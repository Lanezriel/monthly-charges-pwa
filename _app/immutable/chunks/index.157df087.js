import{t as O,d as j}from"./index.2943c15d.js";import{r as q,w as h,x as z,y as E}from"./scheduler.e051e6e5.js";import{w as C}from"./paths.46cf57dc.js";function K(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function N(e,t){e.d(1),t.delete(e.key)}function P(e,t){O(e,1,1,()=>{t.delete(e.key)})}function Q(e,t,n,a,u,r,d,w,p,M,$,S){let c=e.length,f=r.length,o=c;const y={};for(;o--;)y[e[o].key]=o;const m=[],k=new Map,B=new Map,V=[];for(o=f;o--;){const s=S(u,r,o),i=n(s);let l=d.get(i);l?a&&V.push(()=>l.p(s,t)):(l=M(i,s),l.c()),k.set(i,m[o]=l),i in y&&B.set(i,Math.abs(o-y[i]))}const v=new Set,A=new Set;function U(s){j(s,1),s.m(w,$),d.set(s.key,s),$=s.first,f--}for(;c&&f;){const s=m[f-1],i=e[c-1],l=s.key,x=i.key;s===i?($=s.first,c--,f--):k.has(x)?!d.has(l)||v.has(l)?U(s):A.has(x)?c--:B.get(l)>B.get(x)?(A.add(l),U(s)):(v.add(x),c--):(p(i,d),c--)}for(;c--;){const s=e[c];k.has(s.key)||p(s,d)}for(;f;)U(m[f-1]);return q(V),m}const _=C(!1),b=C(null),g=C([]),L=C(null);function D(e=1){var a,u;const t=h(g).length,n=h(g)[t-1];return h(b)||(a=n==null?void 0:n.callbacks)!=null&&a.onBeforeClose&&((u=n==null?void 0:n.callbacks)==null?void 0:u.onBeforeClose())===!1?!1:(h(_)&&t>0&&b.set(!0),_.set(!1),L.set("pop"),F(e),!0)}function R(){return D(1)}function T(e,t,n){h(b)||(L.set("push"),h(_)&&h(g).length&&b.set(!0),_.set(!1),n!=null&&n.replace?g.update(a=>[...a.slice(0,a.length-1),{component:e,props:t}]):g.update(a=>[...a,{component:e,props:t}]))}function F(e=1){g.update(t=>t.slice(0,Math.max(0,t.length-e)))}function G(e){const t=e-1;return t*t*t+1}function W(e,{delay:t=0,duration:n=400,easing:a=z}={}){const u=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:r=>`opacity: ${r*u}`}}function X(e,{delay:t=0,duration:n=400,easing:a=G,x:u=0,y:r=0,opacity:d=0}={}){const w=getComputedStyle(e),p=+w.opacity,M=w.transform==="none"?"":w.transform,$=p*(1-d),[S,c]=E(u),[f,o]=E(r);return{delay:t,duration:n,easing:a,css:(y,m)=>`
			transform: ${M} translate(${(1-y)*S}${c}, ${(1-y)*f}${o});
			opacity: ${p-$*m}`}}export{K as a,W as b,R as c,N as d,_ as e,X as f,T as g,g as m,P as o,b as t,Q as u};
