import{t as O,d as j}from"./index.7e7356c5.js";import{r as q,w as h,x as z,y as E}from"./scheduler.e051e6e5.js";import{w as C}from"./index.bd3e99d2.js";function K(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function N(e,t){O(e,1,1,()=>{t.delete(e.key)})}function P(e,t,n,a,u,r,d,g,p,M,$,S){let c=e.length,f=r.length,o=c;const m={};for(;o--;)m[e[o].key]=o;const y=[],B=new Map,k=new Map,V=[];for(o=f;o--;){const s=S(u,r,o),i=n(s);let l=d.get(i);l?a&&V.push(()=>l.p(s,t)):(l=M(i,s),l.c()),B.set(i,y[o]=l),i in m&&k.set(i,Math.abs(o-m[i]))}const v=new Set,A=new Set;function U(s){j(s,1),s.m(g,$),d.set(s.key,s),$=s.first,f--}for(;c&&f;){const s=y[f-1],i=e[c-1],l=s.key,x=i.key;s===i?($=s.first,c--,f--):B.has(x)?!d.has(l)||v.has(l)?U(s):A.has(x)?c--:k.get(l)>k.get(x)?(A.add(l),U(s)):(v.add(x),c--):(p(i,d),c--)}for(;c--;){const s=e[c];B.has(s.key)||p(s,d)}for(;f;)U(y[f-1]);return q(V),y}const _=C(!1),b=C(null),w=C([]),L=C(null);function D(e=1){var a,u;const t=h(w).length,n=h(w)[t-1];return h(b)||(a=n==null?void 0:n.callbacks)!=null&&a.onBeforeClose&&((u=n==null?void 0:n.callbacks)==null?void 0:u.onBeforeClose())===!1?!1:(h(_)&&t>0&&b.set(!0),_.set(!1),L.set("pop"),F(e),!0)}function Q(){return D(1)}function R(e,t,n){h(b)||(L.set("push"),h(_)&&h(w).length&&b.set(!0),_.set(!1),n!=null&&n.replace?w.update(a=>[...a.slice(0,a.length-1),{component:e,props:t}]):w.update(a=>[...a,{component:e,props:t}]))}function F(e=1){w.update(t=>t.slice(0,Math.max(0,t.length-e)))}function G(e){const t=e-1;return t*t*t+1}function T(e,{delay:t=0,duration:n=400,easing:a=z}={}){const u=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:r=>`opacity: ${r*u}`}}function W(e,{delay:t=0,duration:n=400,easing:a=G,x:u=0,y:r=0,opacity:d=0}={}){const g=getComputedStyle(e),p=+g.opacity,M=g.transform==="none"?"":g.transform,$=p*(1-d),[S,c]=E(u),[f,o]=E(r);return{delay:t,duration:n,easing:a,css:(m,y)=>`
			transform: ${M} translate(${(1-m)*S}${c}, ${(1-m)*f}${o});
			opacity: ${p-$*y}`}}export{K as a,T as b,Q as c,R as d,_ as e,W as f,w as m,N as o,b as t,P as u};
