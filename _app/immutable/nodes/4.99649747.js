import{b as Qe}from"../chunks/paths.effd525d.js";import{s as ve,n as $,p as Ke,r as Ve,v as We,j as Ie,m as He,k as Te}from"../chunks/scheduler.e051e6e5.js";import{S as _e,i as me,x as ce,y as fe,j as D,f as _,k as a,a as Z,z as r,e as ye,d as A,p as de,t as G,b as he,g as p,m as ie,s as B,h as g,n as oe,c as U,A as Y,I as te,B as S,o as ue,G as Ee,q as ne,r as se,E as Xe,u as Oe,v as ae,J as Ye,w as re}from"../chunks/index.7e7356c5.js";import{c as pe,f as De,a as xe,d as Ne}from"../chunks/index.a6901bfe.js";import{p as $e}from"../chunks/stores.14182921.js";import{c as Ce}from"../chunks/createRipple.6d227583.js";function et(){return{title:"Template",type:"sub",backURL:`${Qe}/settings/`}}const pt=Object.freeze(Object.defineProperty({__proto__:null,load:et},Symbol.toStringTag,{value:"Module"}));function tt(n){let e,l;return{c(){e=ce("svg"),l=ce("path"),this.h()},l(t){e=fe(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var s=D(e);l=fe(s,"path",{fill:!0,d:!0}),D(l).forEach(_),s.forEach(_),this.h()},h(){a(l,"fill","currentColor"),a(l,"d","m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","32"),a(e,"height","32"),a(e,"viewBox","0 0 24 24")},m(t,s){Z(t,e,s),r(e,l)},p:$,i:$,o:$,d(t){t&&_(e)}}}class qe extends _e{constructor(e){super(),me(this,e,null,tt,ve,{})}}function lt(n){let e,l;return{c(){e=ce("svg"),l=ce("path"),this.h()},l(t){e=fe(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var s=D(e);l=fe(s,"path",{fill:!0,d:!0}),D(l).forEach(_),s.forEach(_),this.h()},h(){a(l,"fill","currentColor"),a(l,"d","m9.4 16.5l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L16 9.9l-1.4-1.4l-2.6 2.6l-2.6-2.6L8 9.9l2.6 2.6L8 15.1l1.4 1.4ZM7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","32"),a(e,"height","32"),a(e,"viewBox","0 0 24 24")},m(t,s){Z(t,e,s),r(e,l)},p:$,i:$,o:$,d(t){t&&_(e)}}}class Le extends _e{constructor(e){super(),me(this,e,null,lt,ve,{})}}function nt(n){let e,l;return{c(){e=ce("svg"),l=ce("path"),this.h()},l(t){e=fe(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var s=D(e);l=fe(s,"path",{fill:!0,d:!0}),D(l).forEach(_),s.forEach(_),this.h()},h(){a(l,"fill","currentColor"),a(l,"d","M18 12.998h-5v5a1 1 0 0 1-2 0v-5H6a1 1 0 0 1 0-2h5v-5a1 1 0 0 1 2 0v5h5a1 1 0 0 1 0 2z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","32"),a(e,"height","32"),a(e,"viewBox","0 0 24 24")},m(t,s){Z(t,e,s),r(e,l)},p:$,i:$,o:$,d(t){t&&_(e)}}}class Me extends _e{constructor(e){super(),me(this,e,null,nt,ve,{})}}function Pe(n){let e,l,t,s,c,O,C,f,m,b="Name",T,j,y,i,w,k,o,d="Value",E,u,v,h,N,R,z,H,J,Q,ge="Cancel",V,I,q=n[2]?"Update":"Create",le,X,K,L,je,Be,M=!n[6]&&Ae(),P=!n[5]&&Re();return{c(){e=p("div"),l=p("div"),t=p("h2"),s=ie(n[1]),c=B(),O=p("hr"),C=B(),f=p("form"),m=p("label"),m.textContent=b,T=B(),j=p("div"),y=p("input"),w=B(),M&&M.c(),k=B(),o=p("label"),o.textContent=d,E=B(),u=p("div"),v=p("input"),N=B(),P&&P.c(),R=B(),z=p("hr"),H=B(),J=p("div"),Q=p("button"),Q.textContent=ge,V=B(),I=p("button"),le=ie(q),this.h()},l(x){e=g(x,"DIV",{role:!0,class:!0});var F=D(e);l=g(F,"DIV",{class:!0});var W=D(l);t=g(W,"H2",{});var Ue=D(t);s=oe(Ue,n[1]),Ue.forEach(_),c=U(W),O=g(W,"HR",{}),C=U(W),f=g(W,"FORM",{class:!0});var ee=D(f);m=g(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Y(m)!=="svelte-bs9sy6"&&(m.textContent=b),T=U(ee),j=g(ee,"DIV",{class:!0});var be=D(j);y=g(be,"INPUT",{id:!0,type:!0,class:!0}),w=U(be),M&&M.l(be),be.forEach(_),k=U(ee),o=g(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-1mku4qw"&&(o.textContent=d),E=U(ee),u=g(ee,"DIV",{class:!0});var ke=D(u);v=g(ke,"INPUT",{id:!0,type:!0,min:!0,class:!0}),N=U(ke),P&&P.l(ke),ke.forEach(_),ee.forEach(_),R=U(W),z=g(W,"HR",{}),H=U(W),J=g(W,"DIV",{class:!0});var we=D(J);Q=g(we,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(Q)!=="svelte-410vmg"&&(Q.textContent=ge),V=U(we),I=g(we,"BUTTON",{class:!0});var ze=D(I);le=oe(ze,q),ze.forEach(_),we.forEach(_),W.forEach(_),F.forEach(_),this.h()},h(){a(m,"for","name"),a(m,"class","svelte-lt360z"),a(y,"id","name"),a(y,"type","text"),y.value=i=n[4].name,y.required=!0,a(y,"class","svelte-lt360z"),te(y,"error",!n[6]),a(j,"class","input svelte-lt360z"),a(o,"for","value"),a(o,"class","svelte-lt360z"),a(v,"id","value"),a(v,"type","number"),v.value=h=n[4].value,a(v,"min","0"),v.required=!0,a(v,"class","svelte-lt360z"),te(v,"error",!n[5]),a(u,"class","input svelte-lt360z"),a(f,"class","svelte-lt360z"),a(Q,"class","cancel"),a(I,"class","validate"),I.disabled=X=!n[6]||!n[5],a(J,"class","actions"),a(l,"class","contents"),a(e,"role","dialog"),a(e,"class","modal")},m(x,F){Z(x,e,F),r(e,l),r(l,t),r(t,s),r(l,c),r(l,O),r(l,C),r(l,f),r(f,m),r(f,T),r(f,j),r(j,y),r(j,w),M&&M.m(j,null),r(f,k),r(f,o),r(f,E),r(f,u),r(u,v),r(u,N),P&&P.m(u,null),r(l,R),r(l,z),r(l,H),r(l,J),r(J,Q),r(J,V),r(J,I),r(I,le),L=!0,je||(Be=[S(y,"input",n[7]),S(v,"input",n[8]),S(Q,"click",pe),S(I,"click",n[9])],je=!0)},p(x,F){(!L||F&2)&&ue(s,x[1]),(!L||F&16&&i!==(i=x[4].name)&&y.value!==i)&&(y.value=i),(!L||F&64)&&te(y,"error",!x[6]),x[6]?M&&(M.d(1),M=null):M||(M=Ae(),M.c(),M.m(j,null)),(!L||F&16&&h!==(h=x[4].value)&&v.value!==h)&&(v.value=h),(!L||F&32)&&te(v,"error",!x[5]),x[5]?P&&(P.d(1),P=null):P||(P=Re(),P.c(),P.m(u,null)),(!L||F&4)&&q!==(q=x[2]?"Update":"Create")&&ue(le,q),(!L||F&96&&X!==(X=!x[6]||!x[5]))&&(I.disabled=X)},i(x){L||(Ke(()=>{L&&(K||(K=Ee(e,De,{y:50},!0)),K.run(1))}),L=!0)},o(x){K||(K=Ee(e,De,{y:50},!1)),K.run(0),L=!1},d(x){x&&_(e),M&&M.d(),P&&P.d(),x&&K&&K.end(),je=!1,Ve(Be)}}}function Ae(n){let e,l="Charge name is required";return{c(){e=p("span"),e.textContent=l,this.h()},l(t){e=g(t,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-iwruw8"&&(e.textContent=l),this.h()},h(){a(e,"class","input-error svelte-lt360z")},m(t,s){Z(t,e,s)},d(t){t&&_(e)}}}function Re(n){let e,l="Value must be a valid number";return{c(){e=p("span"),e.textContent=l,this.h()},l(t){e=g(t,"SPAN",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-skkdpp"&&(e.textContent=l),this.h()},h(){a(e,"class","input-error svelte-lt360z")},m(t,s){Z(t,e,s)},d(t){t&&_(e)}}}function st(n){let e,l,t=n[0]&&Pe(n);return{c(){t&&t.c(),e=ye()},l(s){t&&t.l(s),e=ye()},m(s,c){t&&t.m(s,c),Z(s,e,c),l=!0},p(s,[c]){s[0]?t?(t.p(s,c),c&1&&A(t,1)):(t=Pe(s),t.c(),A(t,1),t.m(e.parentNode,e)):t&&(de(),G(t,1,1,()=>{t=null}),he())},i(s){l||(A(t),l=!0)},o(s){G(t),l=!1},d(s){s&&_(e),t&&t.d(s)}}}function at(n,e,l){let t,s,{isOpen:c}=e,{title:O="Update a charge"}=e,{item:C=null}=e,{onValidate:f}=e;const m={name:"",value:0};let b={...m};const T=i=>l(4,b.name=i.target.value,b),j=i=>l(4,b.value=i.target.value,b),y=()=>f({...b,value:Number(b.value)});return n.$$set=i=>{"isOpen"in i&&l(0,c=i.isOpen),"title"in i&&l(1,O=i.title),"item"in i&&l(2,C=i.item),"onValidate"in i&&l(3,f=i.onValidate)},n.$$.update=()=>{n.$$.dirty&4&&(C?l(4,b={...C}):l(4,b={...m})),n.$$.dirty&16&&l(6,t=b.name!==void 0&&b.name!==null&&b.name!==""),n.$$.dirty&16&&l(5,s=b.value!==void 0&&b.value!==null&&b.value!==""&&+b.value!=NaN&&+b.value>=0)},[c,O,C,f,b,s,t,T,j,y]}class Se extends _e{constructor(e){super(),me(this,e,at,st,ve,{isOpen:0,title:1,item:2,onValidate:3})}}function Ze(n){let e,l,t,s="Deletion warning!",c,O,C,f,m="Are you sure you want to delete this item?",b,T,j,y,i,w="Cancel",k,o,d="Delete",E,u,v,h;return{c(){e=p("div"),l=p("div"),t=p("h2"),t.textContent=s,c=B(),O=p("hr"),C=B(),f=p("p"),f.textContent=m,b=B(),T=p("hr"),j=B(),y=p("div"),i=p("button"),i.textContent=w,k=B(),o=p("button"),o.textContent=d,this.h()},l(N){e=g(N,"DIV",{role:!0,class:!0});var R=D(e);l=g(R,"DIV",{class:!0});var z=D(l);t=g(z,"H2",{"data-svelte-h":!0}),Y(t)!=="svelte-10ydrt"&&(t.textContent=s),c=U(z),O=g(z,"HR",{}),C=U(z),f=g(z,"P",{class:!0,"data-svelte-h":!0}),Y(f)!=="svelte-33614x"&&(f.textContent=m),b=U(z),T=g(z,"HR",{}),j=U(z),y=g(z,"DIV",{class:!0});var H=D(y);i=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(i)!=="svelte-410vmg"&&(i.textContent=w),k=U(H),o=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-uad17x"&&(o.textContent=d),H.forEach(_),z.forEach(_),R.forEach(_),this.h()},h(){a(f,"class","svelte-1u1ur9b"),a(i,"class","cancel"),a(o,"class","delete"),a(y,"class","actions"),a(l,"class","contents"),a(e,"role","dialog"),a(e,"class","modal")},m(N,R){Z(N,e,R),r(e,l),r(l,t),r(l,c),r(l,O),r(l,C),r(l,f),r(l,b),r(l,T),r(l,j),r(l,y),r(y,i),r(y,k),r(y,o),u=!0,v||(h=[S(i,"click",pe),S(o,"click",function(){We(n[1])&&n[1].apply(this,arguments)})],v=!0)},p(N,R){n=N},i(N){u||(Ke(()=>{u&&(E||(E=Ee(e,De,{y:50},!0)),E.run(1))}),u=!0)},o(N){E||(E=Ee(e,De,{y:50},!1)),E.run(0),u=!1},d(N){N&&_(e),N&&E&&E.end(),v=!1,Ve(h)}}}function rt(n){let e,l,t=n[0]&&Ze(n);return{c(){t&&t.c(),e=ye()},l(s){t&&t.l(s),e=ye()},m(s,c){t&&t.m(s,c),Z(s,e,c),l=!0},p(s,[c]){s[0]?t?(t.p(s,c),c&1&&A(t,1)):(t=Ze(s),t.c(),A(t,1),t.m(e.parentNode,e)):t&&(de(),G(t,1,1,()=>{t=null}),he())},i(s){l||(A(t),l=!0)},o(s){G(t),l=!1},d(s){s&&_(e),t&&t.d(s)}}}function it(n,e,l){let{isOpen:t}=e,{onDelete:s}=e;return n.$$set=c=>{"isOpen"in c&&l(0,t=c.isOpen),"onDelete"in c&&l(1,s=c.onDelete)},[t,s]}class ot extends _e{constructor(e){super(),me(this,e,it,rt,ve,{isOpen:0,onDelete:1})}}function Fe(n,e,l){const t=n.slice();return t[14]=e[l],t[16]=l,t}function Ge(n){let e,l=n[3].data.title+"",t;return{c(){e=p("h1"),t=ie(l),this.h()},l(s){e=g(s,"H1",{class:!0});var c=D(e);t=oe(c,l),c.forEach(_),this.h()},h(){a(e,"class","svelte-j5hu0j")},m(s,c){Z(s,e,c),r(e,t)},p(s,c){c&8&&l!==(l=s[3].data.title+"")&&ue(t,l)},d(s){s&&_(e)}}}function Je(n){let e,l,t,s=n[14].name+"",c,O,C,f=n[14].value+"",m,b,T=n[1].currency+"",j,y,i,w,k,o,d,E,u,v;var h=qe;function N(V,I){return{}}h&&(w=ne(h,N()));function R(...V){return n[10](n[14],...V)}function z(...V){return n[11](n[14],...V)}var H=Le;function J(V,I){return{}}H&&(d=ne(H,J()));function Q(...V){return n[12](n[14],...V)}function ge(...V){return n[13](n[14],...V)}return{c(){e=p("div"),l=p("div"),t=p("h2"),c=ie(s),O=B(),C=p("p"),m=ie(f),b=B(),j=ie(T),y=B(),i=p("div"),w&&se(w.$$.fragment),k=B(),o=p("div"),d&&se(d.$$.fragment),this.h()},l(V){e=g(V,"DIV",{class:!0});var I=D(e);l=g(I,"DIV",{class:!0,role:!0,tabindex:!0});var q=D(l);t=g(q,"H2",{class:!0});var le=D(t);c=oe(le,s),le.forEach(_),O=U(q),C=g(q,"P",{class:!0});var X=D(C);m=oe(X,f),b=U(X),j=oe(X,T),X.forEach(_),q.forEach(_),y=U(I),i=g(I,"DIV",{class:!0,role:!0,tabindex:!0});var K=D(i);w&&Oe(w.$$.fragment,K),K.forEach(_),k=U(I),o=g(I,"DIV",{class:!0,role:!0,tabindex:!0});var L=D(o);d&&Oe(d.$$.fragment,L),L.forEach(_),I.forEach(_),this.h()},h(){a(t,"class","svelte-j5hu0j"),a(C,"class","svelte-j5hu0j"),a(l,"class","charge svelte-j5hu0j"),a(l,"role","button"),a(l,"tabindex",n[16]),a(i,"class","action edit svelte-j5hu0j"),a(i,"role","button"),a(i,"tabindex",n[16]),te(i,"visible",n[0]===n[16]),a(o,"class","action delete svelte-j5hu0j"),a(o,"role","button"),a(o,"tabindex",n[16]),te(o,"visible",n[0]===n[16]),a(e,"class","charge-wrapper svelte-j5hu0j")},m(V,I){Z(V,e,I),r(e,l),r(l,t),r(t,c),r(l,O),r(l,C),r(C,m),r(C,b),r(C,j),r(e,y),r(e,i),w&&ae(w,i,null),r(e,k),r(e,o),d&&ae(d,o,null),E=!0,u||(v=[S(l,"click",n[6]),S(l,"keydown",n[6]),S(i,"click",R),S(i,"keydown",z),S(o,"click",Q),S(o,"keydown",ge)],u=!0)},p(V,I){if(n=V,(!E||I&2)&&s!==(s=n[14].name+"")&&ue(c,s),(!E||I&2)&&f!==(f=n[14].value+"")&&ue(m,f),(!E||I&2)&&T!==(T=n[1].currency+"")&&ue(j,T),h!==(h=qe)){if(w){de();const q=w;G(q.$$.fragment,1,0,()=>{re(q,1)}),he()}h?(w=ne(h,N()),se(w.$$.fragment),A(w.$$.fragment,1),ae(w,i,null)):w=null}if((!E||I&1)&&te(i,"visible",n[0]===n[16]),H!==(H=Le)){if(d){de();const q=d;G(q.$$.fragment,1,0,()=>{re(q,1)}),he()}H?(d=ne(H,J()),se(d.$$.fragment),A(d.$$.fragment,1),ae(d,o,null)):d=null}(!E||I&1)&&te(o,"visible",n[0]===n[16])},i(V){E||(w&&A(w.$$.fragment,V),d&&A(d.$$.fragment,V),E=!0)},o(V){w&&G(w.$$.fragment,V),d&&G(d.$$.fragment,V),E=!1},d(V){V&&_(e),w&&re(w),d&&re(d),u=!1,Ve(v)}}}function ut(n){let e,l,t,s,c,O,C,f,m,b,T,j,y,i=n[2].isDesktop&&Ge(n),w=xe(n[1].template.charges),k=[];for(let u=0;u<w.length;u+=1)k[u]=Je(Fe(n,w,u));const o=u=>G(k[u],1,1,()=>{k[u]=null});var d=Me;function E(u,v){return{}}return d&&(m=ne(d,E())),{c(){e=p("meta"),l=B(),t=p("section"),i&&i.c(),s=B(),c=p("div");for(let u=0;u<k.length;u+=1)k[u].c();O=B(),C=p("div"),f=p("div"),m&&se(m.$$.fragment),this.h()},l(u){const v=Xe("svelte-1obnm6c",document.head);e=g(v,"META",{name:!0,content:!0}),v.forEach(_),l=U(u),t=g(u,"SECTION",{class:!0});var h=D(t);i&&i.l(h),s=U(h),c=g(h,"DIV",{class:!0});var N=D(c);for(let H=0;H<k.length;H+=1)k[H].l(N);O=U(N),C=g(N,"DIV",{class:!0});var R=D(C);f=g(R,"DIV",{class:!0,role:!0,tabindex:!0});var z=D(f);m&&Oe(m.$$.fragment,z),z.forEach(_),R.forEach(_),N.forEach(_),h.forEach(_),this.h()},h(){document.title="Monthly charges - Settings - Template",a(e,"name","description"),a(e,"content","Template definitions"),a(f,"class","charge add svelte-j5hu0j"),a(f,"role","button"),a(f,"tabindex",b=n[1].template.charges.length),a(C,"class","charge-wrapper svelte-j5hu0j"),a(c,"class","charges svelte-j5hu0j"),a(t,"class","svelte-j5hu0j")},m(u,v){r(document.head,e),Z(u,l,v),Z(u,t,v),i&&i.m(t,null),r(t,s),r(t,c);for(let h=0;h<k.length;h+=1)k[h]&&k[h].m(c,null);r(c,O),r(c,C),r(C,f),m&&ae(m,f,null),T=!0,j||(y=[S(f,"click",n[9]),S(f,"keydown",n[9])],j=!0)},p(u,[v]){if(u[2].isDesktop?i?i.p(u,v):(i=Ge(u),i.c(),i.m(t,s)):i&&(i.d(1),i=null),v&451){w=xe(u[1].template.charges);let h;for(h=0;h<w.length;h+=1){const N=Fe(u,w,h);k[h]?(k[h].p(N,v),A(k[h],1)):(k[h]=Je(N),k[h].c(),A(k[h],1),k[h].m(c,O))}for(de(),h=w.length;h<k.length;h+=1)o(h);he()}if(d!==(d=Me)){if(m){de();const h=m;G(h.$$.fragment,1,0,()=>{re(h,1)}),he()}d?(m=ne(d,E()),se(m.$$.fragment),A(m.$$.fragment,1),ae(m,f,null)):m=null}(!T||v&2&&b!==(b=u[1].template.charges.length))&&a(f,"tabindex",b)},i(u){if(!T){for(let v=0;v<w.length;v+=1)A(k[v]);m&&A(m.$$.fragment,u),T=!0}},o(u){k=k.filter(Boolean);for(let v=0;v<k.length;v+=1)G(k[v]);m&&G(m.$$.fragment,u),T=!1},d(u){u&&(_(l),_(t)),_(e),i&&i.d(),Ye(k,u),m&&re(m),j=!1,Ve(y)}}}function ct(n,e,l){let t,s,c;Ie(n,$e,o=>l(3,c=o));const O=He("utils");Ie(n,O,o=>l(2,s=o));const C=He("settings");Ie(n,C,o=>l(1,t=o));let f=null;function m(o){Ce(o);const d=Number(o.currentTarget.attributes.tabIndex.value);f===d?l(0,f=null):l(0,f=d)}function b(o,d){Ce(o),Ne(Se,{item:t.template.charges.find(E=>E.id===d),onValidate:E=>{l(0,f=null);const u=t.template.charges.findIndex(v=>v.id===d);Te(C,t.template.charges[u]=E,t),pe()}})}function T(o,d){Ce(o),Ne(ot,{onDelete:()=>{l(0,f=null),Te(C,t.template.charges=t.template.charges.filter(E=>E.id!==d),t),pe()}})}function j(o){Ce(o),l(0,f=null),Ne(Se,{title:"Create a charge",onValidate:d=>{Te(C,t.template.charges=[...t.template.charges,{...d,id:crypto.randomUUID(),paid:!1}],t),pe()}})}return[f,t,s,c,O,C,m,b,T,j,(o,d)=>b(d,o.id),(o,d)=>b(d,o.id),(o,d)=>T(d,o.id),(o,d)=>T(d,o.id)]}class gt extends _e{constructor(e){super(),me(this,e,ct,ut,ve,{})}}export{gt as component,pt as universal};
