import{g as le,R as ie}from"../chunks/roundCheck.09e24eeb.js";import{b as ae}from"../chunks/paths.059b1f8e.js";import{s as oe,j as R,k as G,n as q}from"../chunks/scheduler.b5980d7e.js";import{S as ce,i as fe,g as P,s as V,e as M,E as ue,h as S,f as $,c as T,k as j,z as D,a as y,t as k,b as U,d as b,p as A,A as me,r as w,u as E,v as C,w as I,q as B,m as z,j as H,n as L,o as O}from"../chunks/index.ffe372b4.js";import{b as J,d as K,j as F,g as W,a as Q,u as _e,o as pe,s as de}from"../chunks/index.5440304a.js";import{b as he}from"../chunks/navigation.e5a31601.js";import{U as X}from"../chunks/UpdateCharge.f0c7d69b.js";import{D as $e,I as Y,a as ge,P as Z}from"../chunks/plusRounded.9ee3394e.js";import{I as ne,a as se}from"../chunks/ItemEntry.2d2f0d3c.js";import{E as be}from"../chunks/edit.ffce0ce6.js";async function ke({params:a}){const n=(await le("entries")).find(t=>t.id===a.id);return{title:n?n.name:"404 Not Found",type:"sub",backURL:`${ae}/`,editable:!0,entry:n}}const ze=Object.freeze(Object.defineProperty({__proto__:null,load:ke},Symbol.toStringTag,{value:"Module"}));function x(a,e,n){const t=a.slice();return t[14]=e[n],t}function ve(a){let e,n='<h2 class="svelte-1btvh43">Oops!</h2> <p class="svelte-1btvh43">The entry you are looking for doesn&#39;t seem to exist.</p>';return{c(){e=P("div"),e.innerHTML=n,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1k11ina"&&(e.innerHTML=n),this.h()},h(){j(e,"class","oops svelte-1btvh43")},m(t,l){y(t,e,l)},p:q,i:q,o:q,d(t){t&&$(e)}}}function ye(a){let e=[],n=new Map,t,l,r,s=Q(a[1].charges);const c=i=>i[14].id;for(let i=0;i<s.length;i+=1){let f=x(a,s,i),o=c(f);n.set(o,e[i]=te(o,f))}return l=new ne({props:{$$slots:{default:[Ee]},$$scope:{ctx:a}}}),{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=V(),w(l.$$.fragment)},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);t=T(i),E(l.$$.fragment,i)},m(i,f){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(i,f);y(i,t,f),C(l,i,f),r=!0},p(i,f){f&126&&(s=Q(i[1].charges),A(),e=_e(e,f,c,1,i,s,n,t.parentNode,pe,te,t,x),U());const o={};f&131072&&(o.$$scope={dirty:f,ctx:i}),l.$set(o)},i(i){if(!r){for(let f=0;f<s.length;f+=1)b(e[f]);b(l.$$.fragment,i),r=!0}},o(i){for(let f=0;f<e.length;f+=1)k(e[f]);k(l.$$.fragment,i),r=!1},d(i){i&&$(t);for(let f=0;f<e.length;f+=1)e[f].d(i);I(l,i)}}}function ee(a){let e,n,t;var l=ie;function r(s,c){return{}}return l&&(e=B(l,r())),{c(){e&&w(e.$$.fragment),n=M()},l(s){e&&E(e.$$.fragment,s),n=M()},m(s,c){e&&C(e,s,c),y(s,n,c),t=!0},i(s){t||(e&&b(e.$$.fragment,s),t=!0)},o(s){e&&k(e.$$.fragment,s),t=!1},d(s){s&&$(n),e&&I(e,s)}}}function we(a){let e,n=a[14].name+"",t,l,r,s,c=a[14].value+"",i,f,o=a[3].currency+"",u,p,h,_=a[14].paid&&ee();return{c(){e=P("h2"),t=z(n),l=V(),r=P("div"),s=P("p"),i=z(c),f=V(),u=z(o),p=V(),_&&_.c(),this.h()},l(d){e=S(d,"H2",{class:!0});var v=H(e);t=L(v,n),v.forEach($),l=T(d),r=S(d,"DIV",{class:!0});var m=H(r);s=S(m,"P",{class:!0});var g=H(s);i=L(g,c),f=T(g),u=L(g,o),g.forEach($),p=T(m),_&&_.l(m),m.forEach($),this.h()},h(){j(e,"class","svelte-1btvh43"),j(s,"class","svelte-1btvh43"),j(r,"class","right svelte-1btvh43")},m(d,v){y(d,e,v),D(e,t),y(d,l,v),y(d,r,v),D(r,s),D(s,i),D(s,f),D(s,u),D(r,p),_&&_.m(r,null),h=!0},p(d,v){(!h||v&2)&&n!==(n=d[14].name+"")&&O(t,n),(!h||v&2)&&c!==(c=d[14].value+"")&&O(i,c),(!h||v&8)&&o!==(o=d[3].currency+"")&&O(u,o),d[14].paid?_?v&2&&b(_,1):(_=ee(),_.c(),b(_,1),_.m(r,null)):_&&(A(),k(_,1,1,()=>{_=null}),U())},i(d){h||(b(_),h=!0)},o(d){k(_),h=!1},d(d){d&&($(e),$(l),$(r)),_&&_.d()}}}function Ce(a){let e,n,t,l,r,s;function c(){return a[9](a[14])}e=new se({props:{clickCallback:c,$$slots:{default:[we]},$$scope:{ctx:a}}});function i(){return a[10](a[14])}t=new Y({props:{type:"edit",isVisible:a[2]===a[14].id,clickCallback:i,icon:be}});function f(){return a[11](a[14])}return r=new Y({props:{type:"delete",isVisible:a[2]===a[14].id,clickCallback:f,icon:ge}}),{c(){w(e.$$.fragment),n=V(),w(t.$$.fragment),l=V(),w(r.$$.fragment)},l(o){E(e.$$.fragment,o),n=T(o),E(t.$$.fragment,o),l=T(o),E(r.$$.fragment,o)},m(o,u){C(e,o,u),y(o,n,u),C(t,o,u),y(o,l,u),C(r,o,u),s=!0},p(o,u){a=o;const p={};u&2&&(p.clickCallback=c),u&131082&&(p.$$scope={dirty:u,ctx:a}),e.$set(p);const h={};u&6&&(h.isVisible=a[2]===a[14].id),u&2&&(h.clickCallback=i),t.$set(h);const _={};u&6&&(_.isVisible=a[2]===a[14].id),u&2&&(_.clickCallback=f),r.$set(_)},i(o){s||(b(e.$$.fragment,o),b(t.$$.fragment,o),b(r.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),k(r.$$.fragment,o),s=!1},d(o){o&&($(n),$(l)),I(e,o),I(t,o),I(r,o)}}}function te(a,e){let n,t,l;return t=new ne({props:{$$slots:{default:[Ce]},$$scope:{ctx:e}}}),{key:a,first:null,c(){n=M(),w(t.$$.fragment),this.h()},l(r){n=M(),E(t.$$.fragment,r),this.h()},h(){this.first=n},m(r,s){y(r,n,s),C(t,r,s),l=!0},p(r,s){e=r;const c={};s&131086&&(c.$$scope={dirty:s,ctx:e}),t.$set(c)},i(r){l||(b(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&$(n),I(t,r)}}}function Ie(a){let e,n,t;var l=Z;function r(s,c){return{}}return l&&(e=B(l,r())),{c(){e&&w(e.$$.fragment),n=M()},l(s){e&&E(e.$$.fragment,s),n=M()},m(s,c){e&&C(e,s,c),y(s,n,c),t=!0},p(s,c){if(l!==(l=Z)){if(e){A();const i=e;k(i.$$.fragment,1,0,()=>{I(i,1)}),U()}l?(e=B(l,r()),w(e.$$.fragment),b(e.$$.fragment,1),C(e,n.parentNode,n)):e=null}},i(s){t||(e&&b(e.$$.fragment,s),t=!0)},o(s){e&&k(e.$$.fragment,s),t=!1},d(s){s&&$(n),e&&I(e,s)}}}function Ee(a){let e,n;return e=new se({props:{clickCallback:a[7],centered:!0,$$slots:{default:[Ie]},$$scope:{ctx:a}}}),{c(){w(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){C(e,t,l),n=!0},p(t,l){const r={};l&131072&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Me(a){let e,n,t,l,r,s,c;document.title=e="Monthly charges - "+a[0].title;const i=[ye,ve],f=[];function o(u,p){return u[1]?0:1}return l=o(a),r=f[l]=i[l](a),{c(){n=P("meta"),t=V(),r.c(),s=M(),this.h()},l(u){const p=ue("svelte-zeh83q",document.head);n=S(p,"META",{name:!0,content:!0}),p.forEach($),t=T(u),r.l(u),s=M(),this.h()},h(){j(n,"name","description"),j(n,"content","Template definitions")},m(u,p){D(document.head,n),y(u,t,p),f[l].m(u,p),y(u,s,p),c=!0},p(u,[p]){(!c||p&1)&&e!==(e="Monthly charges - "+u[0].title)&&(document.title=e);let h=l;l=o(u),l===h?f[l].p(u,p):(A(),k(f[h],1,1,()=>{f[h]=null}),U(),r=f[l],r?r.p(u,p):(r=f[l]=i[l](u),r.c()),b(r,1),r.m(s.parentNode,s))},i(u){c||(b(r),c=!0)},o(u){k(r),c=!1},d(u){u&&($(t),$(s)),$(n),f[l].d(u)}}}function De(a,e,n){let t,l,r;R(a,J,m=>n(8,t=m)),R(a,K,m=>n(12,l=m)),R(a,de,m=>n(3,r=m));let{data:s}=e,c=s.entry,i;he(()=>{G(J,t=!1,t)});function f(){const m=l.findIndex(g=>g.id===c.id);G(K,l[m]=c,l)}function o(m){if(t)i===m.id?n(2,i=null):n(2,i=m.id);else{const g=c.charges.findIndex(N=>N.id===m.id);n(1,c.charges[g]={...m,paid:!m.paid},c)}}function u(m){F(X,{item:c.charges.find(g=>g.id===m),onValidate:g=>{n(2,i=null);const N=c.charges.findIndex(re=>re.id===m);n(1,c.charges[N]=g,c),W()}},{replace:!0})}function p(m){F($e,{onDelete:()=>{n(2,i=null),n(1,c.charges=c.charges.filter(g=>g.id!==m),c),W()}},{replace:!0})}function h(){F(X,{title:"Create a charge",onValidate:m=>{n(1,c.charges=[...c.charges,{...m,id:crypto.randomUUID(),paid:!1}].toSorted((g,N)=>N.value-g.value),c),W()}},{replace:!0})}const _=m=>o(m),d=m=>u(m.id),v=m=>p(m.id);return a.$$set=m=>{"data"in m&&n(0,s=m.data)},a.$$.update=()=>{a.$$.dirty&256&&(t||n(2,i=null)),a.$$.dirty&2&&f()},[s,c,i,r,o,u,p,h,t,_,d,v]}class He extends ce{constructor(e){super(),fe(this,e,De,Me,oe,{data:0})}}export{He as component,ze as universal};
