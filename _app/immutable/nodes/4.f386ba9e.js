import{b as We}from"../chunks/paths.125cd0c3.js";import{s as le,n as x,p as Fe,r as Ne,v as Te,m as Je,j as Ke,k as Ie}from"../chunks/scheduler.e051e6e5.js";import{S as ne,i as se,x as ie,y as re,j as w,f as p,k as o,a as V,z as h,e as te,d as I,p as de,t as O,b as _e,g,m as ce,s as k,h as b,n as fe,c as C,A as F,I as ae,B as Y,o as me,G as we,q as $e,r as M,u as ee,v as P,w as R,E as Qe}from"../chunks/index.2943c15d.js";import{c as he,f as ye,a as He,u as Xe,o as Ye,d as De}from"../chunks/index.3addb090.js";import{c as Ce}from"../chunks/createRipple.6d227583.js";import{I as xe,a as Ge}from"../chunks/ItemWrapper.e96e27f1.js";function et(){return{title:"Template",type:"sub",backURL:`${We}/settings/`}}const Vt=Object.freeze(Object.defineProperty({__proto__:null,load:et},Symbol.toStringTag,{value:"Module"}));function tt(a){let e,l;return{c(){e=ie("svg"),l=ie("path"),this.h()},l(t){e=re(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=w(e);l=re(n,"path",{fill:!0,d:!0}),w(l).forEach(p),n.forEach(p),this.h()},h(){o(l,"fill","currentColor"),o(l,"d","m19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width","32"),o(e,"height","32"),o(e,"viewBox","0 0 24 24")},m(t,n){V(t,e,n),h(e,l)},p:x,i:x,o:x,d(t){t&&p(e)}}}class lt extends ne{constructor(e){super(),se(this,e,null,tt,le,{})}}function nt(a){let e,l;return{c(){e=ie("svg"),l=ie("path"),this.h()},l(t){e=re(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=w(e);l=re(n,"path",{fill:!0,d:!0}),w(l).forEach(p),n.forEach(p),this.h()},h(){o(l,"fill","currentColor"),o(l,"d","m9.4 16.5l2.6-2.6l2.6 2.6l1.4-1.4l-2.6-2.6L16 9.9l-1.4-1.4l-2.6 2.6l-2.6-2.6L8 9.9l2.6 2.6L8 15.1l1.4 1.4ZM7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width","32"),o(e,"height","32"),o(e,"viewBox","0 0 24 24")},m(t,n){V(t,e,n),h(e,l)},p:x,i:x,o:x,d(t){t&&p(e)}}}class st extends ne{constructor(e){super(),se(this,e,null,nt,le,{})}}function at(a){let e,l;return{c(){e=ie("svg"),l=ie("path"),this.h()},l(t){e=re(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var n=w(e);l=re(n,"path",{fill:!0,d:!0}),w(l).forEach(p),n.forEach(p),this.h()},h(){o(l,"fill","currentColor"),o(l,"d","M18 12.998h-5v5a1 1 0 0 1-2 0v-5H6a1 1 0 0 1 0-2h5v-5a1 1 0 0 1 2 0v5h5a1 1 0 0 1 0 2z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width","32"),o(e,"height","32"),o(e,"viewBox","0 0 24 24")},m(t,n){V(t,e,n),h(e,l)},p:x,i:x,o:x,d(t){t&&p(e)}}}class qe extends ne{constructor(e){super(),se(this,e,null,at,le,{})}}function Ae(a){let e,l,t,n,i,u,c,d,v,s="Name",r,_,f,m,z,S,$,ue="Value",H,D,E,G,U,j,B,W,J,K,Oe="Cancel",Ve,Z,oe=a[2]?"Update":"Create",ve,pe,Q,q,Ee,Ue,T=!a[6]&&Le(),N=!a[5]&&Me();return{c(){e=g("div"),l=g("div"),t=g("h2"),n=ce(a[1]),i=k(),u=g("hr"),c=k(),d=g("form"),v=g("label"),v.textContent=s,r=k(),_=g("div"),f=g("input"),z=k(),T&&T.c(),S=k(),$=g("label"),$.textContent=ue,H=k(),D=g("div"),E=g("input"),U=k(),N&&N.c(),j=k(),B=g("hr"),W=k(),J=g("div"),K=g("button"),K.textContent=Oe,Ve=k(),Z=g("button"),ve=ce(oe),this.h()},l(y){e=b(y,"DIV",{role:!0,class:!0});var A=w(e);l=b(A,"DIV",{class:!0});var L=w(l);t=b(L,"H2",{});var Be=w(t);n=fe(Be,a[1]),Be.forEach(p),i=C(L),u=b(L,"HR",{}),c=C(L),d=b(L,"FORM",{class:!0});var X=w(d);v=b(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(v)!=="svelte-bs9sy6"&&(v.textContent=s),r=C(X),_=b(X,"DIV",{class:!0});var ge=w(_);f=b(ge,"INPUT",{id:!0,type:!0,class:!0}),z=C(ge),T&&T.l(ge),ge.forEach(p),S=C(X),$=b(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F($)!=="svelte-1mku4qw"&&($.textContent=ue),H=C(X),D=b(X,"DIV",{class:!0});var be=w(D);E=b(be,"INPUT",{id:!0,type:!0,min:!0,class:!0}),U=C(be),N&&N.l(be),be.forEach(p),X.forEach(p),j=C(L),B=b(L,"HR",{}),W=C(L),J=b(L,"DIV",{class:!0});var ke=w(J);K=b(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),F(K)!=="svelte-410vmg"&&(K.textContent=Oe),Ve=C(ke),Z=b(ke,"BUTTON",{class:!0});var ze=w(Z);ve=fe(ze,oe),ze.forEach(p),ke.forEach(p),L.forEach(p),A.forEach(p),this.h()},h(){o(v,"for","name"),o(v,"class","svelte-lt360z"),o(f,"id","name"),o(f,"type","text"),f.value=m=a[4].name,f.required=!0,o(f,"class","svelte-lt360z"),ae(f,"error",!a[6]),o(_,"class","input svelte-lt360z"),o($,"for","value"),o($,"class","svelte-lt360z"),o(E,"id","value"),o(E,"type","number"),E.value=G=a[4].value,o(E,"min","0"),E.required=!0,o(E,"class","svelte-lt360z"),ae(E,"error",!a[5]),o(D,"class","input svelte-lt360z"),o(d,"class","svelte-lt360z"),o(K,"class","cancel"),o(Z,"class","validate"),Z.disabled=pe=!a[6]||!a[5],o(J,"class","actions"),o(l,"class","contents"),o(e,"role","dialog"),o(e,"class","modal")},m(y,A){V(y,e,A),h(e,l),h(l,t),h(t,n),h(l,i),h(l,u),h(l,c),h(l,d),h(d,v),h(d,r),h(d,_),h(_,f),h(_,z),T&&T.m(_,null),h(d,S),h(d,$),h(d,H),h(d,D),h(D,E),h(D,U),N&&N.m(D,null),h(l,j),h(l,B),h(l,W),h(l,J),h(J,K),h(J,Ve),h(J,Z),h(Z,ve),q=!0,Ee||(Ue=[Y(f,"input",a[7]),Y(E,"input",a[8]),Y(K,"click",he),Y(Z,"click",a[9])],Ee=!0)},p(y,A){(!q||A&2)&&me(n,y[1]),(!q||A&16&&m!==(m=y[4].name)&&f.value!==m)&&(f.value=m),(!q||A&64)&&ae(f,"error",!y[6]),y[6]?T&&(T.d(1),T=null):T||(T=Le(),T.c(),T.m(_,null)),(!q||A&16&&G!==(G=y[4].value)&&E.value!==G)&&(E.value=G),(!q||A&32)&&ae(E,"error",!y[5]),y[5]?N&&(N.d(1),N=null):N||(N=Me(),N.c(),N.m(D,null)),(!q||A&4)&&oe!==(oe=y[2]?"Update":"Create")&&me(ve,oe),(!q||A&96&&pe!==(pe=!y[6]||!y[5]))&&(Z.disabled=pe)},i(y){q||(Fe(()=>{q&&(Q||(Q=we(e,ye,{y:50},!0)),Q.run(1))}),q=!0)},o(y){Q||(Q=we(e,ye,{y:50},!1)),Q.run(0),q=!1},d(y){y&&p(e),T&&T.d(),N&&N.d(),y&&Q&&Q.end(),Ee=!1,Ne(Ue)}}}function Le(a){let e,l="Charge name is required";return{c(){e=g("span"),e.textContent=l,this.h()},l(t){e=b(t,"SPAN",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-iwruw8"&&(e.textContent=l),this.h()},h(){o(e,"class","input-error svelte-lt360z")},m(t,n){V(t,e,n)},d(t){t&&p(e)}}}function Me(a){let e,l="Value must be a valid number";return{c(){e=g("span"),e.textContent=l,this.h()},l(t){e=b(t,"SPAN",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-skkdpp"&&(e.textContent=l),this.h()},h(){o(e,"class","input-error svelte-lt360z")},m(t,n){V(t,e,n)},d(t){t&&p(e)}}}function it(a){let e,l,t=a[0]&&Ae(a);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,i){t&&t.m(n,i),V(n,e,i),l=!0},p(n,[i]){n[0]?t?(t.p(n,i),i&1&&I(t,1)):(t=Ae(n),t.c(),I(t,1),t.m(e.parentNode,e)):t&&(de(),O(t,1,1,()=>{t=null}),_e())},i(n){l||(I(t),l=!0)},o(n){O(t),l=!1},d(n){n&&p(e),t&&t.d(n)}}}function rt(a,e,l){let t,n,{isOpen:i}=e,{title:u="Update a charge"}=e,{item:c=null}=e,{onValidate:d}=e;const v={name:"",value:0};let s={...v};const r=m=>l(4,s.name=m.target.value,s),_=m=>l(4,s.value=m.target.value,s),f=()=>d({...s,value:Number(s.value)});return a.$$set=m=>{"isOpen"in m&&l(0,i=m.isOpen),"title"in m&&l(1,u=m.title),"item"in m&&l(2,c=m.item),"onValidate"in m&&l(3,d=m.onValidate)},a.$$.update=()=>{a.$$.dirty&4&&(c?l(4,s={...c}):l(4,s={...v})),a.$$.dirty&16&&l(6,t=s.name!==void 0&&s.name!==null&&s.name!==""),a.$$.dirty&16&&l(5,n=s.value!==void 0&&s.value!==null&&s.value!==""&&+s.value!=NaN&&+s.value>=0)},[i,u,c,d,s,n,t,r,_,f]}class Pe extends ne{constructor(e){super(),se(this,e,rt,it,le,{isOpen:0,title:1,item:2,onValidate:3})}}function Re(a){let e,l,t,n="Deletion warning!",i,u,c,d,v="Are you sure you want to delete this item?",s,r,_,f,m,z="Cancel",S,$,ue="Delete",H,D,E,G;return{c(){e=g("div"),l=g("div"),t=g("h2"),t.textContent=n,i=k(),u=g("hr"),c=k(),d=g("p"),d.textContent=v,s=k(),r=g("hr"),_=k(),f=g("div"),m=g("button"),m.textContent=z,S=k(),$=g("button"),$.textContent=ue,this.h()},l(U){e=b(U,"DIV",{role:!0,class:!0});var j=w(e);l=b(j,"DIV",{class:!0});var B=w(l);t=b(B,"H2",{"data-svelte-h":!0}),F(t)!=="svelte-10ydrt"&&(t.textContent=n),i=C(B),u=b(B,"HR",{}),c=C(B),d=b(B,"P",{class:!0,"data-svelte-h":!0}),F(d)!=="svelte-33614x"&&(d.textContent=v),s=C(B),r=b(B,"HR",{}),_=C(B),f=b(B,"DIV",{class:!0});var W=w(f);m=b(W,"BUTTON",{class:!0,"data-svelte-h":!0}),F(m)!=="svelte-410vmg"&&(m.textContent=z),S=C(W),$=b(W,"BUTTON",{class:!0,"data-svelte-h":!0}),F($)!=="svelte-uad17x"&&($.textContent=ue),W.forEach(p),B.forEach(p),j.forEach(p),this.h()},h(){o(d,"class","svelte-1u1ur9b"),o(m,"class","cancel"),o($,"class","delete"),o(f,"class","actions"),o(l,"class","contents"),o(e,"role","dialog"),o(e,"class","modal")},m(U,j){V(U,e,j),h(e,l),h(l,t),h(l,i),h(l,u),h(l,c),h(l,d),h(l,s),h(l,r),h(l,_),h(l,f),h(f,m),h(f,S),h(f,$),D=!0,E||(G=[Y(m,"click",he),Y($,"click",function(){Te(a[1])&&a[1].apply(this,arguments)})],E=!0)},p(U,j){a=U},i(U){D||(Fe(()=>{D&&(H||(H=we(e,ye,{y:50},!0)),H.run(1))}),D=!0)},o(U){H||(H=we(e,ye,{y:50},!1)),H.run(0),D=!1},d(U){U&&p(e),U&&H&&H.end(),E=!1,Ne(G)}}}function ut(a){let e,l,t=a[0]&&Re(a);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,i){t&&t.m(n,i),V(n,e,i),l=!0},p(n,[i]){n[0]?t?(t.p(n,i),i&1&&I(t,1)):(t=Re(n),t.c(),I(t,1),t.m(e.parentNode,e)):t&&(de(),O(t,1,1,()=>{t=null}),_e())},i(n){l||(I(t),l=!0)},o(n){O(t),l=!1},d(n){n&&p(e),t&&t.d(n)}}}function ot(a,e,l){let{isOpen:t}=e,{onDelete:n}=e;return a.$$set=i=>{"isOpen"in i&&l(0,t=i.isOpen),"onDelete"in i&&l(1,n=i.onDelete)},[t,n]}class ct extends ne{constructor(e){super(),se(this,e,ot,ut,le,{isOpen:0,onDelete:1})}}function ft(a){let e,l,t,n,i,u;var c=a[3];function d(v,s){return{}}return c&&(l=$e(c,d())),{c(){e=g("button"),l&&M(l.$$.fragment),this.h()},l(v){e=b(v,"BUTTON",{class:!0});var s=w(e);l&&ee(l.$$.fragment,s),s.forEach(p),this.h()},h(){o(e,"class",t="action "+a[0]+" svelte-fas8h2"),ae(e,"visible",a[1])},m(v,s){V(v,e,s),l&&P(l,e,null),n=!0,i||(u=[Y(e,"click",function(){Te(a[2])&&a[2].apply(this,arguments)}),Y(e,"keydown",function(){Te(a[2])&&a[2].apply(this,arguments)})],i=!0)},p(v,[s]){if(a=v,s&8&&c!==(c=a[3])){if(l){de();const r=l;O(r.$$.fragment,1,0,()=>{R(r,1)}),_e()}c?(l=$e(c,d()),M(l.$$.fragment),I(l.$$.fragment,1),P(l,e,null)):l=null}(!n||s&1&&t!==(t="action "+a[0]+" svelte-fas8h2"))&&o(e,"class",t),(!n||s&3)&&ae(e,"visible",a[1])},i(v){n||(l&&I(l.$$.fragment,v),n=!0)},o(v){l&&O(l.$$.fragment,v),n=!1},d(v){v&&p(e),l&&R(l),i=!1,Ne(u)}}}function mt(a,e,l){let{type:t="edit"}=e,{isVisible:n}=e,{clickCallback:i}=e,{icon:u}=e;return a.$$set=c=>{"type"in c&&l(0,t=c.type),"isVisible"in c&&l(1,n=c.isVisible),"clickCallback"in c&&l(2,i=c.clickCallback),"icon"in c&&l(3,u=c.icon)},[t,n,i,u]}class Se extends ne{constructor(e){super(),se(this,e,mt,ft,le,{type:0,isVisible:1,clickCallback:2,icon:3})}}function je(a,e,l){const t=a.slice();return t[10]=e[l],t}function ht(a){let e,l=a[10].name+"",t,n,i,u=a[10].value+"",c,d,v=a[1].currency+"",s;return{c(){e=g("h2"),t=ce(l),n=k(),i=g("p"),c=ce(u),d=k(),s=ce(v),this.h()},l(r){e=b(r,"H2",{class:!0});var _=w(e);t=fe(_,l),_.forEach(p),n=C(r),i=b(r,"P",{class:!0});var f=w(i);c=fe(f,u),d=C(f),s=fe(f,v),f.forEach(p),this.h()},h(){o(e,"class","svelte-k3dwag"),o(i,"class","svelte-k3dwag")},m(r,_){V(r,e,_),h(e,t),V(r,n,_),V(r,i,_),h(i,c),h(i,d),h(i,s)},p(r,_){_&2&&l!==(l=r[10].name+"")&&me(t,l),_&2&&u!==(u=r[10].value+"")&&me(c,u),_&2&&v!==(v=r[1].currency+"")&&me(s,v)},d(r){r&&(p(e),p(n),p(i))}}}function dt(a){let e,l,t,n,i,u;function c(...s){return a[7](a[10],...s)}e=new Ge({props:{clickCallback:c,$$slots:{default:[ht]},$$scope:{ctx:a}}});function d(...s){return a[8](a[10],...s)}t=new Se({props:{type:"edit",isVisible:a[0]===a[10].id,clickCallback:d,icon:lt}});function v(...s){return a[9](a[10],...s)}return i=new Se({props:{type:"delete",isVisible:a[0]===a[10].id,clickCallback:v,icon:st}}),{c(){M(e.$$.fragment),l=k(),M(t.$$.fragment),n=k(),M(i.$$.fragment)},l(s){ee(e.$$.fragment,s),l=C(s),ee(t.$$.fragment,s),n=C(s),ee(i.$$.fragment,s)},m(s,r){P(e,s,r),V(s,l,r),P(t,s,r),V(s,n,r),P(i,s,r),u=!0},p(s,r){a=s;const _={};r&2&&(_.clickCallback=c),r&8194&&(_.$$scope={dirty:r,ctx:a}),e.$set(_);const f={};r&3&&(f.isVisible=a[0]===a[10].id),r&2&&(f.clickCallback=d),t.$set(f);const m={};r&3&&(m.isVisible=a[0]===a[10].id),r&2&&(m.clickCallback=v),i.$set(m)},i(s){u||(I(e.$$.fragment,s),I(t.$$.fragment,s),I(i.$$.fragment,s),u=!0)},o(s){O(e.$$.fragment,s),O(t.$$.fragment,s),O(i.$$.fragment,s),u=!1},d(s){s&&(p(l),p(n)),R(e,s),R(t,s),R(i,s)}}}function Ze(a,e){let l,t,n;return t=new xe({props:{$$slots:{default:[dt]},$$scope:{ctx:e}}}),{key:a,first:null,c(){l=te(),M(t.$$.fragment),this.h()},l(i){l=te(),ee(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,u){V(i,l,u),P(t,i,u),n=!0},p(i,u){e=i;const c={};u&8195&&(c.$$scope={dirty:u,ctx:e}),t.$set(c)},i(i){n||(I(t.$$.fragment,i),n=!0)},o(i){O(t.$$.fragment,i),n=!1},d(i){i&&p(l),R(t,i)}}}function _t(a){let e,l,t;var n=qe;function i(u,c){return{}}return n&&(e=$e(n,i())),{c(){e&&M(e.$$.fragment),l=te()},l(u){e&&ee(e.$$.fragment,u),l=te()},m(u,c){e&&P(e,u,c),V(u,l,c),t=!0},p(u,c){if(n!==(n=qe)){if(e){de();const d=e;O(d.$$.fragment,1,0,()=>{R(d,1)}),_e()}n?(e=$e(n,i()),M(e.$$.fragment),I(e.$$.fragment,1),P(e,l.parentNode,l)):e=null}},i(u){t||(e&&I(e.$$.fragment,u),t=!0)},o(u){e&&O(e.$$.fragment,u),t=!1},d(u){u&&p(l),e&&R(e,u)}}}function vt(a){let e,l;return e=new Ge({props:{clickCallback:a[6],centered:!0,$$slots:{default:[_t]},$$scope:{ctx:a}}}),{c(){M(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const i={};n&8192&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(I(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function pt(a){let e,l,t=[],n=new Map,i,u,c,d=He(a[1].template.charges);const v=s=>s[10].id;for(let s=0;s<d.length;s+=1){let r=je(a,d,s),_=v(r);n.set(_,t[s]=Ze(_,r))}return u=new xe({props:{$$slots:{default:[vt]},$$scope:{ctx:a}}}),{c(){e=g("meta"),l=k();for(let s=0;s<t.length;s+=1)t[s].c();i=k(),M(u.$$.fragment),this.h()},l(s){const r=Qe("svelte-1obnm6c",document.head);e=b(r,"META",{name:!0,content:!0}),r.forEach(p),l=C(s);for(let _=0;_<t.length;_+=1)t[_].l(s);i=C(s),ee(u.$$.fragment,s),this.h()},h(){document.title="Monthly charges - Settings - Template",o(e,"name","description"),o(e,"content","Template definitions")},m(s,r){h(document.head,e),V(s,l,r);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(s,r);V(s,i,r),P(u,s,r),c=!0},p(s,[r]){r&59&&(d=He(s[1].template.charges),de(),t=Xe(t,r,v,1,s,d,n,i.parentNode,Ye,Ze,i,je),_e());const _={};r&8192&&(_.$$scope={dirty:r,ctx:s}),u.$set(_)},i(s){if(!c){for(let r=0;r<d.length;r+=1)I(t[r]);I(u.$$.fragment,s),c=!0}},o(s){for(let r=0;r<t.length;r+=1)O(t[r]);O(u.$$.fragment,s),c=!1},d(s){s&&(p(l),p(i)),p(e);for(let r=0;r<t.length;r+=1)t[r].d(s);R(u,s)}}}function gt(a,e,l){let t;const n=Je("settings");Ke(a,n,f=>l(1,t=f));let i=null;function u(f,m){Ce(f),i===m?l(0,i=null):l(0,i=m)}function c(f,m){Ce(f),De(Pe,{item:t.template.charges.find(z=>z.id===m),onValidate:z=>{l(0,i=null);const S=t.template.charges.findIndex($=>$.id===m);Ie(n,t.template.charges[S]=z,t),he()}})}function d(f,m){Ce(f),De(ct,{onDelete:()=>{l(0,i=null),Ie(n,t.template.charges=t.template.charges.filter(z=>z.id!==m),t),he()}})}function v(f){Ce(f),l(0,i=null),De(Pe,{title:"Create a charge",onValidate:m=>{Ie(n,t.template.charges=[...t.template.charges,{...m,id:crypto.randomUUID(),paid:!1}],t),he()}})}return[i,t,n,u,c,d,v,(f,m)=>u(m,f.id),(f,m)=>c(m,f.id),(f,m)=>d(m,f.id)]}class Et extends ne{constructor(e){super(),se(this,e,gt,pt,le,{})}}export{Et as component,Vt as universal};
